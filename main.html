<!DOCTYPE html>
<html>
    <head>
        <title>Shasankbt</title>
        <link rel="stylesheet" href="./CSS/buttons.css">
        <link rel="stylesheet" href="./CSS/nav_styles.css">
        <link rel="stylesheet" href="./CSS/para_styles.css">
        <script src="./JScripts/lock.js"></script>
        <style>
            /* Style to remove border and padding for the iframe */
            iframe {
                border: none;
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100vh;
            }
        </style>
    </head>
    <body style="background-color: rgb(0, 4, 20);">

        <div class="nav-bar">
            <button onclick="toggleClass(this)" class="nav-button" id="home_button_id" data-src="home.html">Home</button>
            <button onclick="toggleClass(this)" class="nav-button" id="hobbies_button_id" data-src="interests.html">Interests</button>
            <button onclick="toggleClass(this)" class="nav-button" id="skills_button_id" data-src="skills.html">skills</button>
            <button onclick="toggleClass(this)" class="nav-button" id="achievements_button_id" data-src="achievements.html">Achievements</button>
        </div>

        <script>
            
            function resizeIframe(iframe) {
                iframe.style.height = Math.max(iframe.contentWindow.document.body.scrollHeight , window.innerHeight)  + 30 +'px';
                console.log(iframe.style.height);
            }   
        </script>

        <div id="locker_div" data-locked="true" style="position: relative;">
            <iframe src=""  scrolling="no" onload="resizeIframe(this)" id="frame_section" ></iframe>
            
        </div>
        

        <!-- JavaScript -->
        <script>

            let prev_session_id = localStorage.getItem("prev_session_id");

            if(!prev_session_id){
                prev_session_id = "home_button_id"
            }
            
            let present_button = document.getElementById(prev_session_id);
            if(present_button.classList.contains('nav-button')){
                present_button.classList.remove('nav-button');
                present_button.classList.add('nav-current-button');
            }

            let frame_section = document.getElementById("frame_section");
            frame_section.src = present_button.getAttribute('data-src');

            frame_section.onload = function () {
            resizeIframe(frame_section);
        };

            
            function toggleClass(button) {

                
                if (button.classList.contains('nav-button')) {

                    let new_page_link = button.getAttribute("data-src");

                    button.classList.remove('nav-button');
                    button.classList.add('nav-current-button');
                    present_button.classList.remove('nav-current-button');
                    present_button.classList.add('nav-button');

                    frame_section.src = new_page_link;

                    present_button = button;

                    localStorage.setItem("prev_session_id", button.id);
                }     
            }

            

        </script>

        <p class="template-text-1"> end of the file</p>
    
    </body>
</html>